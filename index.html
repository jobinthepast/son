<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Schedule</title>

<style>
body { background:#fff; font-family:Arial; }
table { border-collapse:collapse; margin:20px auto; }
th,td { border:1px solid #555; padding:6px; text-align:center; }

th { background:#bfbfbf; font-weight:bold; }
.time { background:#c9c9c9; font-weight:bold; width:80px; }

.gray{background:#e0e0e0;color:#999}
.red{background:#ff0000;color:#fff;font-weight:bold}
.blue{background:#0022ff;color:#fff;font-weight:bold}
.black{background:#000;color:#fff;font-weight:bold}
.green{background:#55ff00;color:#000;font-weight:bold}

.day-highlight{background:yellow!important}
.time-highlight{background:yellow!important}

.blink{
  animation:blink 1s infinite;
}
@keyframes blink{
  0%{outline:3px solid #fff700}
  50%{outline:3px solid transparent}
  100%{outline:3px solid #fff700}
}
</style>
</head>

<body>
<table id="tbl">
<tr>
  <th></th>
  <th data-day="1">Mon</th>
  <th data-day="2">Tue</th>
  <th data-day="3">Wed</th>
  <th data-day="4">Thu</th>
  <th data-day="5">Fri</th>
  <th data-day="6">Sat</th>
  <th data-day="0">Sun</th>
</tr>

<tr data-time="06:15">
<td class="time">6:15</td>
<td data-day="1" class="gray">wake up</td>
<td data-day="2" class="gray">wake up</td>
<td data-day="3" class="gray">wake up</td>
<td data-day="4" class="gray">wake up</td>
<td data-day="5" class="gray">wake up</td>
<td data-day="6"></td><td data-day="0"></td>
</tr>

<tr data-time="07:00">
<td class="time">7:00</td>
<td data-day="1" class="gray">to school</td>
<td data-day="2" class="gray">to school</td>
<td data-day="3" class="gray">to school</td>
<td data-day="4" class="gray">to school</td>
<td data-day="5" class="gray">to school</td>
<td data-day="6"></td><td data-day="0"></td>
</tr>

<tr data-time="08:00">
<td class="time">8:00</td>
<td colspan="5" data-days="1,2,3,4,5" class="gray">
- chú ý nghe giảng, hiểu bài nhớ bài tại lớp<br>
- soạn bài ngày hôm sau tại lớp
</td>
<td data-day="6" class="gray">cô Thanh</td>
<td data-day="0"></td>
</tr>

<tr data-time="16:40">
<td class="time">16:40</td>
<td data-day="1" class="gray">eat</td>
<td data-day="2" class="gray">eat</td>
<td data-day="3" class="gray">eat</td>
<td data-day="4" class="gray">eat</td>
<td data-day="5" class="gray">eat</td>
<td data-day="6"></td><td data-day="0"></td>
</tr>

<tr data-time="17:00">
<td class="time">17:00</td>
<td data-day="1" class="red">BJJ</td>
<td data-day="2"></td>
<td data-day="3" class="gray">cô Thanh</td>
<td data-day="4"></td>
<td data-day="5" class="red">BJJ</td>
<td data-day="6"></td><td data-day="0"></td>
</tr>

<tr data-time="17:30">
<td class="time">17:30</td>
<td data-day="1"></td>
<td data-day="2" class="blue">swim</td>
<td data-day="3"></td>
<td data-day="4" class="blue">swim</td>
<td data-day="5"></td>
<td data-day="6"></td><td data-day="0"></td>
</tr>

<tr data-time="19:00">
<td class="time">19:00</td>
<td data-day="1" class="black">JKD</td>
<td data-day="2"></td>
<td data-day="3"></td>
<td data-day="4"></td>
<td data-day="5" class="black">JKD</td>
<td data-day="6"></td><td data-day="0"></td>
</tr>

<tr data-time="19:20">
<td class="time">19:20</td>
<td data-day="1"></td>
<td data-day="2"></td>
<td data-day="3" class="black">JKD</td>
<td data-day="4"></td>
<td data-day="5"></td>
<td data-day="6"></td><td data-day="0"></td>
</tr>

<tr data-time="22:00">
<td class="time">22:00</td>
<td data-day="1" class="gray">sleep</td>
<td data-day="2" class="gray">sleep</td>
<td data-day="3" class="gray">sleep</td>
<td data-day="4" class="gray">sleep</td>
<td data-day="5" class="gray">sleep</td>
<td data-day="6"></td><td data-day="0"></td>
</tr>
</table>

<script>
function toMin(t){let[a,b]=t.split(":");return a*60+ +b}
function tick(){
  const now=new Date()
  const day=now.getDay()
  const cur=now.getHours()*60+now.getMinutes()

  document.querySelectorAll(".day-highlight,.time-highlight,.blink")
    .forEach(e=>e.classList.remove("day-highlight","time-highlight","blink"))

  document.querySelector(`th[data-day="${day}"]`)?.classList.add("day-highlight")

  const rows=[...document.querySelectorAll("tr[data-time]")]
  for(let i=0;i<rows.length-1;i++){
    if(cur>=toMin(rows[i].dataset.time)&&cur<toMin(rows[i+1].dataset.time)){
      rows[i].children[0].classList.add("time-highlight")
      rows[i].querySelectorAll("td").forEach(td=>{
        if(td.dataset.day==day || td.dataset.days?.includes(day))
          td.classList.add("blink")
      })
      break
    }
  }
}
setInterval(tick,1000);tick()
</script>
</body>
</html>

